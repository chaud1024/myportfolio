<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
    <title>마이페이지 후기작성</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/layout.css">
    <link rel="stylesheet" href="../../css/page.css">

    <script src="../../js/sub-menu.js"></script>



</head>

<body>
    <div class="wrap">

        <!----------------------------HEADER---------------------------->
        <header class="header">
            <div class="header-top">
                <div class="userInfo">
                    <ul>
                        <li><a href="../login/sign_in.html" class="login">로그인</a></li>
                        <li><a href="../mypage/myp_useinfo_wrap.html" class="mypage">마이페이지</a></li>
                        <li><a href="../login/sign_in.html" class="login-out">로그아웃</a></li>
                    </ul>
                </div>
            </div>

            <div class="header-bottom">
                <div class="inner">
                    <h1 class="logo">
                        <a href="index.html"><img src="../../img/common/logo.png" alt="테크노메이드로고"></a>
                    </h1>
                    <nav>
                        <ul class="nav-menu">
                            <li class="active"><a href="index.html">테크노메이드</a></li>
                            <li><a href="/page/fabric_list_modal.html">제작하기</a></li>
                            <li><a href="/page/user_contact.html">문의하기</a></li>
                            <li class="last"><a href="/page/user_review.html">고객경험</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </header>


        <!----------------------------SUB CONTAINER---------------------------->
        <div class="sub-container">

            <div class="sub-banner">
                <div class="inner">
                    <h3 lang="en" class="wc">Creat your own. Find your style</h3>
                    <div class="wc">
                        특정한 시기에 유행하는 복식의 형식. 패션.<br>
                        논리적이거나 추상적인 이유보다는 사소한 취향에 따라서 변한다.<br>
                        우리는 그 사소한 취향을 귀를 기울인다.
                    </div>
                </div>

            </div>
            <!--sub-banner-->

            <div class="sub-wrap">
                <div class="sub-inner">

                    <div class="sub-title-wrap myp_review">
                        <h2 class="sub-title">마이페이지</h2>
                        <ul class="sub-tab">
                            <li><a href="javascript:subPage('myp_userinfo_wrap')" lang="en" class="location1">나의 정보</a></li>
                            <li><a href="javascript:subPage('myp_order_list')" lang="en" class="location2">주문 내역</a></li>
                            <li><a href="javascript:subPage('myp_inquiry_list')" class="location3">문의 내역</a></li>
                            <li><a href="javascript:subPage('myp_review_list')" lang="en" class="location4">나의 경험</a></li>
                        </ul>
                    </div>


                    <div class="myp-wrap">
                        <div class="myp-cont">
                            <div class="myp-cont-title">
                                <h1>고객 경험 작성</h1>
                            </div><!-- .myp-qna-cont-title end -->

                            <div class="myp-tbl wr-revw">
                                <div class="wr-wrap">
                                    <div class="cmn-input-wrap">
                                        <div class="wr-revw-info cmn-input-area">
                                            <label class="cmn-label" for="">주문정보</label>
                                            <span lang="en">21-11-02 10:27 [202110210008]</span>
                                        </div>
                                    </div>

                                    <div class="cmn-input-wrap">
                                        <div class="wr-revw-info cmn-input-area">
                                            <label class="cmn-label" for="">주문상세</label>
                                            <div class="wr-revw-order-dtl">
                                                <span>일자</span>
                                                <span>하이웨이스트</span>
                                                <span>5부</span>
                                                <span>카라없음</span>
                                                <span>무릎아래</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="cmn-input-wrap">
                                        <div class="wr-revw-info cmn-input-area">
                                            <label class="cmn-label" for="">원단</label>
                                            <span>린넨</span>
                                        </div>
                                    </div>
                                    
                                    <div class="cmn-input-wrap">
                                        <div class="wr-revw-info cmn-input-area">
                                            <label for="rating" class="cmn-label" for="">평점</label>
                                            <div class="star-rating">
                                                <input type="radio" id="5-stars" name="rating" value="5" />
                                                <label for="5-stars" class="star">&#9733;</label>
                                                <input type="radio" id="4-stars" name="rating" value="4" />
                                                <label for="4-stars" class="star">&#9733;</label>
                                                <input type="radio" id="3-stars" name="rating" value="3" />
                                                <label for="3-stars" class="star">&#9733;</label>
                                                <input type="radio" id="2-stars" name="rating" value="2" />
                                                <label for="2-stars" class="star">&#9733;</label>
                                                <input type="radio" id="1-star" name="rating" value="1" />
                                                <label for="1-star" class="star">&#9733;</label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="cmn-input-wrap ">
                                        <div class="cmn-input-area">
                                            <label class="cmn-label" for="">제목</label>
                                            <input type="text" id="" class="cmn-input" placeholder="제목을 입력해주세요.">
                                        </div>
                                    </div>

                                    <div class="cmn-input-wrap wr-revw">
                                        <div class="cmn-input-area">
                                            <label class="cmn-label" for="">고객경험</label>
                                            <textarea class="cmn-txtarea" type="text" placeholder="내용을 입력해주세요."></textarea>
                                        </div>
                                    </div>

                                    <div class="cmn-input-wrap wr-revw">
                                        <div class="cmn-input-area image-preview">
                                            <label class="cmn-label" for="">파일첨부</label>
                                            <div class="image-preview-wrap">
                                                <label for="btnAtt" class="btn-add">파일업로드</label>
                                                <input type="file" id="btnAtt" class="btn-up-input"  multiple="multiple" />
                                                <p>이미지파일 최대 5장,</br>
                                                    용량 최대 50MB이하 업로드 가능합니다.
                                                </p>
                                            </div>
                                            <div id="att_zone" class="file-zone" data-pladeholder="파일첨부를 위해 파일선택버튼을 클릭해주세요."></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="btn-wrap">
                                    <button type="button" id="" class="btn-cancel">취소</button>
                                    <button type="button" id="" class="btn-confirm">등록</button>
                                </div>
                            </div>
                            <!-- .myp-tbl tbl-revw end -->

                        </div>
                        <!-- .myp-qna-cont end -->
                    </div>
                    <!-- .myp-cont end -->
                </div>
                <!--sub-inner-->
            </div>
            <!--sub-wrap-->

            
            <div class="modal-wrap">
                <div class="modal-overlay">
                    <div class="modal-review">
                        <div class="modal-window">
                            <div class="content">
                                <p>후기가 성공적으로 등록되었습니다.</p>
                            </div>
                            <div class="btn-wrap">
                                <button type="button" id="" class="btn-close">확인</button>
                             
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-----.modal-review---->


        </div>
        <!-----끝 #sub-container----->



        <!----------------------------FOOTER---------------------------->
        <footer class="footer">

            <div class="footer-top">
                <div class="inner">
                    <ul class="f-menu">
                        <li><a href="#" class="wc">회사소개</a></li>
                        <li><a href="#" class="wc ll">개인정보처리방침</a></li>
                        <li><a href="#" class="wc ll">이용약관</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="inner">
                    <h2 class="logo-f">
                        <a href="#"><img src="../../img/common/logo-f.png" alt="테크노메이드로고-푸터"></a>
                    </h2>
                    <div class="f-contact wc">
                        <h4 class="f-title" lang="en">Contact</h4>
                        <p lang="en">1577-1234</p>
                        <p lang="en">AM: 9:00 - PM: 6:00 <span lang="ko">(주말 및 공휴일 휴무)</span></p>
                    </div>
                    <div class="f-bank wc">
                        <h4 class="f-title wc" lang="en">Bank Account</h4>
                        <div>
                            국민은행 <span lang="en">0000-0000-0000</span> <br>
                            국민은행 <span lang="en">0000-0000-0000</span> <br>
                            예금주 : <span></span> 테크노메이드
                        </div>
                    </div>
                    <div class="f-info wc">
                        <h4 class="f-title wc" lang="en">Company</h4>
                        <div>
                            <span>상호명: 테크노메이드</span>
                            <span class="ll">owner : 홍길동</span>
                            <span class="ll">tel: 000-000-0000</span>
                        </div>
                        <div>
                            <span>business no: 000-00-00000</span>
                            <span class="ll">personal info manager : 장동석</span>
                        </div>
                        <div>
                            address. 대구광역시 북구 호암로 51, 2층 201호(침산동, 대구창조경제혁신센터)
                        </div>
                    </div>
                </div>
            </div>
            <!--footer-bottom-->

        </footer>



    </div>
    <!--끝--#Wrap-->

    <script>
        const views = document.querySelectorAll(".view");
        const folds = document.querySelectorAll(".fold");

        console.log(views.constructor.name);

        for (let i = 0; i < views.length; i++) {
            views[i].addEventListener("click", function () {
                views[i].classList.toggle("open");
                folds[i].classList.toggle("open");
            });
        }


        ( /* att_zone : 이미지들이 들어갈 위치 id, btn : file tag id */
            imageView = function imageView(att_zone, btn) {

                let attZone = document.getElementById(att_zone);
                let btnAtt = document.getElementById(btn)
                let sel_files = [];

                // 미리보기 이미지 속성
                let img_style = 'width:100%;height:100%;z-index:none';
                // 이미지안에 표시되는 체크박스의 속성
                let chk_style = 'width:30px;height:30px;position:absolute;font-size:18px;' +
                    'right:0px;top:0px;z-index:999;background-color:transparent;color:#fff;border:none';

                btnAtt.onchange = function (e) {
                    let files = e.target.files;
                    let fileArr = Array.prototype.slice.call(files)
                    for (f of fileArr) {
                        imageLoader(f);
                    }
                }


                /*첨부된 이미지를을 배열에 넣고 미리보기 */
                imageLoader = function (file) {
                    sel_files.push(file);
                    let reader = new FileReader();
                    reader.onload = function (ee) {
                        let img = document.createElement('img')
                        img.setAttribute('style', img_style)
                        img.src = ee.target.result;
                        attZone.appendChild(makeDiv(img, file));
                    }

                    reader.readAsDataURL(file);
                }

                /*첨부된 파일이 있는 경우 checkbox와 함께 attZone에 추가할 div를 만들어 반환 */
                makeDiv = function (img, file) {
                    let div = document.createElement('div')

                    let btn = document.createElement('input')
                    btn.setAttribute('type', 'button')
                    btn.setAttribute('value', '✕')
                    btn.setAttribute('class', 'close-img')
                    btn.setAttribute('delFile', file.name);
                    btn.setAttribute('style', chk_style);
                    btn.onclick = function (ev) {
                        let ele = ev.srcElement;
                        let delFile = ele.getAttribute('delFile');
                        for (let i = 0; i < sel_files.length; i++) {
                            if (delFile == sel_files[i].name) {
                                sel_files.splice(i, 1);
                            }
                        }

                        dt = new DataTransfer();
                        for (f in sel_files) {
                            let file = sel_files[f];
                            dt.items.add(file);
                        }
                        btnAtt.files = dt.files;
                        let p = ele.parentNode;
                        attZone.removeChild(p)
                    }
                    div.appendChild(img)
                    div.appendChild(btn)
                    return div
                }
            }
        )('att_zone', 'btnAtt')

    </script>


<script>
    const btnOpenPopup = document.querySelector('.btn-confirm');
    const btnClosePopup = document.querySelector('.btn-close');
    const modal = document.querySelector('.modal-wrap');

    btnOpenPopup.addEventListener('click', ()=>{
        modal.style.display = 'flex';
    btnClosePopup.addEventListener('click', ()=>{
        modal.style.display ='none';
    })
})


</script>